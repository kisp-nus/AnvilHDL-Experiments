proc fetcher (ep : left fetch_ch, mem_ep : right inst_mem_ch){
    loop ep.reset{
        try pc = recv ep.pc {
            send mem_ep.req(pc) >>
            let inst = recv mem_ep.data >>
            send ep.inst(inst) >>
            cycle 1
        }
        else{
            cycle 1
        }
    }
}